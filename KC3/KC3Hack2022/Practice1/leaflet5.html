<!DOCTYPE html>
<html>
<head>
    <title>Leaflet_Tutrial_301.html 2019/4/26   by T. Fujita</title>
    <meta charset = "utf-8" />
    <link rel = "stylesheet" href = "https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" />
    <link rel = "stylesheet" href = "./CSS/Leaflet_Graticule.css" />
    <link rel = "stylesheet" href = "./Plugins/Leaflet-MousePosition-master/src/L.Control.MousePosition.css" />
    <link rel = "stylesheet" href = "./Plugins/Leaflet-MiniMap-master/src/Control.MiniMap.css" />
    <link rel = "stylesheet" href = "./Plugins/leaflet-control-osm-geocoder-master/Control.OSMGeocoder.css" />
    <script src = "https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"></script>
    <script src = "./Plugins/leaflet-GIBS-master/src/GIBSMetadata.js" ></script>
    <script src = "./Plugins/leaflet-GIBS-master/src/GIBSLayer.js" ></script>
    <script src = "./Plugins/leaflet-ajax-master/dist/leaflet.ajax.js" ></script>
    <script src = "./Plugins/Leaflet-MousePosition-master/src/L.Control.MousePosition.js" ></script>
    <script src = "./Plugins/Leaflet-MiniMap-master/src/Control.MiniMap.js" ></script>
    <script src = "./Plugins/leaflet-control-osm-geocoder-master/Control.OSMGeocoder.js" ></script>
    <script src = "./JS/Map_Data.JS" ></script>
    <script src = "./JS/Leaflet_Graticule.js" ></script>

<script>
    var map;
    var ClickLat, ClickLon, Act_Zoom, Pre_Zoom;
    var Mouse_Position = L.control.mousePosition( {position:'bottomright'} );

    function init() {
    map = L.map('map').setView([35.65809922, 139.74135747], 8);
    map.addLayer( Basic_Map[ 0 ] );
    L.control.layers(baseMap, overLay).addTo(map);

    L.control.scale().addTo(map);
    Mouse_Position.addTo(map);
    var osm2 = new L.TileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {minZoom: 0, maxZoom: 15, attribution: 'Map data &copy; OpenStreetMap contributors' });
    var miniMap = new L.Control.MiniMap(osm2, { toggleDisplay: true, position: 'bottomleft' }).addTo(map);
    Grid_on_B();
    map.on('click', function(e) {
        ClickLat = e.latlng.lat;
        ClickLon = e.latlng.lng;
        if(flag_grid == 1)
        {
            Act_Zoom = map.getZoom();
            Act_Ctn = map.getCenter();
            if(Act_Zoom != Pre_Zoom)
            {
                grid( grid_line_col );
                Pre_Zoom = Act_Zoom;
            }
        }
    });
    osmGeocoder = new L.Control.OSMGeocoder();
    map.addControl(osmGeocoder);
    }
</script>
</head>
<body onload="init()">
    <div id="map" style="width: 100%; height: 400px; border: solid 1px"></div>
</body>
</html>